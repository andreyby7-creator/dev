# ü§ñ AI Guidelines –¥–ª—è Cursor - SaleSpot BY

> **–í–ê–ñ–ù–û**: –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –ø—Ä–æ–µ–∫—Ç–æ–º SaleSpot BY.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript

- **–í–°–ï–ì–î–ê** –∏—Å–ø–æ–ª—å–∑—É–π `strict: true` –≤ `tsconfig.json`
- **–ó–ê–ü–†–ï–©–ï–ù–û** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `any` - –∏—Å–ø–æ–ª—å–∑—É–π `unknown` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∏—Å–ø–æ–ª—å–∑—É–π `satisfies` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–¢–†–ï–ë–£–ï–¢–°–Ø** `exactOptionalPropertyTypes` –¥–ª—è —Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å optional –ø–æ–ª—è–º–∏

### 2. ESLint –ø—Ä–∞–≤–∏–ª–∞ (—Å—Ç—Ä–æ–≥–∏–µ)

- –°–ª–µ–¥—É–π `@typescript-eslint/recommended-requiring-type-checking`
- –ò—Å–ø–æ–ª—å–∑—É–π `prefer-nullish-coalescing` –≤–º–µ—Å—Ç–æ `||`
- –ü—Ä–∏–º–µ–Ω—è–π `strict-boolean-expressions` –¥–ª—è —è–≤–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- –°–æ—Ä—Ç–∏—Ä—É–π –∏–º–ø–æ—Ä—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ `import/order`

### 3. Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–π Zod –¥–ª—è runtime –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ì–µ–Ω–µ—Ä–∏—Ä—É–π —Ç–∏–ø—ã –∏–∑ —Å—Ö–µ–º: `type MyType = z.infer<typeof MySchema>`
- –ü—Ä–∏–º–µ–Ω—è–π `safeParse` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### –ò–º–ø–æ—Ä—Ç—ã (—Å—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫)

```typescript
// 1. Built-in –º–æ–¥—É–ª–∏
import { Injectable } from '@nestjs/common';

// 2. External –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
import { z } from 'zod';

// 3. Internal –º–æ–¥—É–ª–∏
import { UserService } from './user.service';

// 4. Types
import type { User } from './user.types';
```

### –¢–∏–ø–∏–∑–∞—Ü–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞)

```typescript
// ‚úÖ –•–û–†–û–®–û
const user: User = { id: '1', name: 'John' };
const result = schema.safeParse(data);

// ‚ùå –ü–õ–û–•–û
const user: any = { id: '1', name: 'John' };
const result = schema.parse(data); // –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```typescript
// ‚úÖ –•–û–†–û–®–û
if (error instanceof z.ZodError) {
  console.error('Validation error:', error.issues);
}

// ‚ùå –ü–õ–û–•–û
if (error.errors) {
  // –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
  console.error('Validation error:', error.errors);
}
```

## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

1. **TS2375: Type 'string | undefined' is not assignable to type 'string'**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   firstName: convertNullableString(user.first_name);

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   firstName: convertNullableString(user.first_name) ?? undefined;
   ```

2. **Unexpected nullable string value in conditional**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   if (value || defaultValue) { ... }

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   if (value ?? defaultValue) { ... }
   ```

3. **Zod enum optional**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   action: AuditActionSchema.optional();

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   action: z.union([AuditActionSchema, z.undefined()]).optional();
   ```

4. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   function complexFunction() {
     // 50+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
   }

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   function simpleFunction() {
     return processData(validateInput(getInput()));
   }
   ```

5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ any**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   const data: any = getData();

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   const data: unknown = getData();
   const validatedData = schema.safeParse(data);
   ```

6. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**

   ```typescript
   // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
   const user1 = { id: 1, name: 'John' };
   const user2 = { id: 2, name: 'Jane' };

   // ‚úÖ –†–µ—à–µ–Ω–∏–µ
   const createUser = (id: number, name: string) => ({ id, name });
   const user1 = createUser(1, 'John');
   const user2 = createUser(2, 'Jane');
   ```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
pnpm run type-check && pnpm run lint

# –¢–æ–ª—å–∫–æ TypeScript
pnpm run type-check

# –¢–æ–ª—å–∫–æ ESLint —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
pnpm run lint:fix

# –°–∏—Å—Ç–µ–º–∞ "–ö–∞–ø–∏—Ç–∞–Ω –ß–∏—Å—Ç–æ–≥–æ –ö–æ–¥–∞"
./scripts/code-captain.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
./scripts/code-captain.sh --fix

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
./scripts/code-captain.sh --report
```

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **TypeScript –æ—à–∏–±–∫–∏** - –∏—Å–ø—Ä–∞–≤–ª—è–π –ø–µ—Ä–≤—ã–º–∏
2. **ESLint –æ—à–∏–±–∫–∏** - –∏—Å–ø—Ä–∞–≤–ª—è–π –≤—Ç–æ—Ä—ã–º–∏
3. **ESLint –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** - –∏—Å–ø—Ä–∞–≤–ª—è–π –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π JSDoc –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–º–µ—Å—Ç–æ any
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

## ü§ñ AI-–ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è Cursor

### –ü—Ä–æ–º–ø—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã

```
–í–æ—Ç guidelines –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞: [–≤—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ ai-guidelines.md].
–¢–µ–ø–µ—Ä—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–æ–≥–∏ –º–Ω–µ —Å –∑–∞–¥–∞—á–µ–π... [–æ–ø–∏—à–∏ –∑–∞–¥–∞—á—É]

–ü–æ–º–Ω–∏:
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é TypeScript
- –ò–∑–±–µ–≥–∞–π any, –∏—Å–ø–æ–ª—å–∑—É–π unknown –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
- –°–ª–µ–¥—É–π –ø—Ä–∞–≤–∏–ª–∞–º ESLint –∏ Prettier
- –ò—Å–ø–æ–ª—å–∑—É–π Zod –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –°–æ—Ä—Ç–∏—Ä—É–π –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º –∑–∞–ø—É—Å–∫–∞–π `./scripts/code-captain.sh`
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π `./scripts/code-captain.sh --fix`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–π –æ—Ç—á–µ—Ç—ã —Å `./scripts/code-captain.sh --report`

## üîí Quality Gates

–°–∏—Å—Ç–µ–º–∞ "–ö–∞–ø–∏—Ç–∞–Ω –ß–∏—Å—Ç–æ–≥–æ –ö–æ–¥–∞" –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç—ã –ø—Ä–∏:

- TypeScript –æ—à–∏–±–∫–∞—Ö
- ESLint –æ—à–∏–±–∫–∞—Ö
- –ü—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö
- –£—è–∑–≤–∏–º–æ—Å—Ç—è—Ö –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- TypeScript coverage: 100%
- ESLint errors: 0
- ESLint warnings: < 10
- Test coverage: > 80%
- Security vulnerabilities: 0

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è AI

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º:

1. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–∏–ø—ã** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø–∏–∑–∞—Ü–∏—é
2. **–í–∞–ª–∏–¥–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ** - –∏—Å–ø–æ–ª—å–∑—É–π Zod –¥–ª—è runtime –≤–∞–ª–∏–¥–∞—Ü–∏–∏
3. **–°–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º** - DRY, KISS, SOLID
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π** - –¥–æ–±–∞–≤–ª—è–π JSDoc –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
5. **–¢–µ—Å—Ç–∏—Ä—É–π** - –ø–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏

### –ü—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫:

1. **–°–Ω–∞—á–∞–ª–∞ TypeScript** - –∏—Å–ø—Ä–∞–≤–ª—è–π –æ—à–∏–±–∫–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
2. **–ü–æ—Ç–æ–º ESLint** - –∏—Å–ø—Ä–∞–≤–ª—è–π –ø—Ä–æ–±–ª–µ–º—ã –ª–∏–Ω—Ç–µ—Ä–∞
3. **–í –∫–æ–Ω—Ü–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–∏–º–µ–Ω—è–π Prettier

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:

1. **–°–ª–µ–¥—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ** - –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤
2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - —Å–æ—Ä—Ç–∏—Ä—É–π –∏–º–ø–æ—Ä—Ç—ã –ø–æ –ø–æ—Ä—è–¥–∫—É
3. **–¢–∏–ø–∏–∑–∏—Ä—É–π —Å—Ç—Ä–æ–≥–æ** - –∏–∑–±–µ–≥–∞–π any, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
4. **–í–∞–ª–∏–¥–∏—Ä—É–π –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –∏—Å–ø–æ–ª—å–∑—É–π Zod —Å—Ö–µ–º—ã

---

**–ü–æ–º–Ω–∏**: –ß–∏—Å—Ç—ã–π –∫–æ–¥ - —ç—Ç–æ –Ω–µ —Ä–æ—Å–∫–æ—à—å, —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞! üõ°Ô∏è
