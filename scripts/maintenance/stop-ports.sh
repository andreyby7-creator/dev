#!/bin/bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./scripts/devops/stop-ports.sh
# Command: cd /home/boss/Projects/dev && ./scripts/stop-ports.sh

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000 –∏ 3001

echo "üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000 –∏ 3001..."

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –ø–æ—Ä—Ç—É 3000
if lsof -ti:3000 > /dev/null 2>&1; then
    echo "üì± –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000 (Web)..."
    lsof -ti:3000 | xargs kill -9
    echo "‚úÖ –ü–æ—Ä—Ç 3000 –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω"
else
    echo "‚ÑπÔ∏è  –ü–æ—Ä—Ç 3000 —Å–≤–æ–±–æ–¥–µ–Ω"
fi

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ –ø–æ—Ä—Ç—É 3001
if lsof -ti:3001 > /dev/null 2>&1; then
    echo "üîå –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3001 (API)..."
    lsof -ti:3001 | xargs kill -9
    echo "‚úÖ –ü–æ—Ä—Ç 3001 –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω"
else
    echo "‚ÑπÔ∏è  –ü–æ—Ä—Ç 3001 —Å–≤–æ–±–æ–¥–µ–Ω"
fi

echo "üéØ –í—Å–µ –ø–æ—Ä—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã!"
